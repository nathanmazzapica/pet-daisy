WebSocket's responsibilities will be split between hub.go and client.go

